spring.application.name=agendamento

# Configurações do HikariCP (opcional, mas recomendado para performance)
spring.datasource.hikari.data-source-properties.cachePrepStmts=true
spring.datasource.hikari.data-source-properties.prepStmtCacheSize=250
spring.datasource.hikari.data-source-properties.prepStmtCacheSqlLimit=2048
spring.datasource.hikari.data-source-properties.useServerPrepStmts=true
spring.datasource.hikari.data-source-properties.useLocalSessionState=true
spring.datasource.hikari.data-source-properties.rewriteBatchedStatements=true
spring.datasource.hikari.data-source-properties.cacheResultSetMetadata=true
spring.datasource.hikari.data-source-properties.cacheServerConfiguration=true
spring.datasource.hikari.data-source-properties.elideSetAutoCommits=true
spring.datasource.hikari.data-source-properties.maintainTimeStats=false

# Configurações do HikariCP
spring.jpa.hibernate.connection.provider_class=com.zaxxer.hikari.hibernate.HikariConnectionProvider
spring.jpa.show-sql=${APP_DATABASE_SHOW_SQL:true}
spring.jpa.properties.hibernate.format_sql=true
spring.jpa.database-platform=org.hibernate.dialect.PostgreSQLDialect
spring.jpa.hibernate.ddl-auto=update

#spring.agendamento-datasource.jdbc-url=${db_url_agendamento:jdbc:postgresql://localhost:5432/agendamento}
spring.agendamento-datasource.jdbc-url=${db_url_agendamento:jdbc:postgresql://postgres:5432/agendamento}
spring.agendamento-datasource.username=${agendamento_username:admin}
spring.agendamento-datasource.password=${agendamento_password:Admin123#}
spring.agendamento-datasource.type=com.zaxxer.hikari.HikariDataSource

spring.agendamento-datasource.driver-class-name=org.postgresql.Driver
spring.agendamento-datasource.hikari.minimumIdle=5
spring.agendamento-datasource.hikari.maximumPoolSize=200
spring.agendamento-datasource.hikari.idleTimeout=60000
spring.agendamento-datasource.hikari.maxLifetime=2500000
spring.agendamento-datasource.hikari.keepaliveTime=2000000
spring.agendamento-datasource.hikari.connectionTimeout=40000
spring.agendamento-datasource.hikari.poolName=HikariPoolAgendamento

# Configurações do servidor
server.port=${SERVER_PORT:8080}
    
server.connection-timeout=-1
debug=true
#spring.autoconfigure.exclude=org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration